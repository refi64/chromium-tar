<link rel="import" href="chrome://resources/html/polymer.html">
<link rel="import" href="chrome://resources/cr_elements/shared_style_css.html">
<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../shared/nearby_share_settings.html">
<link rel="import" href="../chromeos/os_route.html">
<link rel="import" href="../controls/settings_toggle_button.html">
<link rel="import" href="../prefs/prefs.html">
<link rel="import" href="../prefs/prefs_behavior.html">
<link rel="import" href="../router.html">
<link rel="import" href="../settings_shared_css.html">
<link rel="import" href="nearby_share_device_name_dialog.html">
<link rel="import" href="nearby_share_data_usage_dialog.html">
<link rel="import" href="types.html">

<dom-module id="settings-nearby-share-subpage">
  <template>
    <style include="cr-shared-style settings-shared iron-flex">
    </style>
    <div id="toggleRow" class="cr-row first" on-click="onEnableTap_" actionable>
      <div id="onOff" class="flex cr-padded-text"
          on$="[[prefs.nearby_sharing.enabled.value]]" aria-hidden="true">
        [[getOnOffString_(prefs.nearby_sharing.enabled.value,
            '$i18nPolymer{deviceOn}', '$i18nPolymer{deviceOff}')]]
      </div>
      <settings-toggle-button id="featureToggleButton" aria-describedby="onOff"
          pref="{{prefs.nearby_sharing.enabled}}">
      </settings-toggle-button>
    </div>
    <div class="settings-box two-line">
      <div class="start">
        <div role="heading" aria-hidden="true">
          $i18n{nearbyShareDeviceNameRowTitle}
        </div>
        <div aria-hidden="true" class="secondary">
          [[prefs.nearby_sharing.device_name.value]]
        </div>
      </div>
      <cr-button id="editDeviceNameButton" on-click="onDeviceNameTap_"
          aria-description="[[getEditNameButtonAriaDescription_(
              prefs.nearby_sharing.device_name.value)]]">
        $i18n{nearbyShareEditDeviceName}
      </cr-button>
    </div>
    <template is="dom-if" if="[[showDeviceNameDialog_]]" restamp>
      <nearby-share-device-name-dialog prefs="{{prefs}}" id="deviceNameDialog"
          on-close="onDeviceNameDialogClose_">
      </nearby-share-device-name-dialog>
    </template>
    <div class="settings-box two-line">
      <div class="start">
        <div aria-hidden="true">
          [[getDataUsageLabel_(prefs.nearby_sharing.data_usage.value)]]
        </div>
        <div aria-hidden="true" class="secondary">
          [[getDataUsageSubLabel_(prefs.nearby_sharing.data_usage.value)]]
        </div>
      </div>
      <cr-button id="editDataUsageButton" on-click="onDataUsageTap_"
          aria-description="[[getEditDataUsageButtonAriaDescription_(
              prefs.nearby_sharing.data_usage.value)]]">
        $i18n{editDataUsage}
      </cr-button>
    </div>
    <template is="dom-if" if="[[showDataUsageDialog_]]" restamp>
      <nearby-share-data-usage-dialog prefs="{{prefs}}" id="dataUsageDialog"
          on-close="onDataUsageDialogClose_">
      </nearby-share-data-usage-dialog>
    </template>
  </template>
  <script src="nearby_share_subpage.js"></script>
</dom-module>
